<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Updating software | SensorGnome User Guide</title>
  <meta name="description" content="A guide to using a SensorGnome, part of Motus Wildlife Tracking System" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Updating software | SensorGnome User Guide" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A guide to using a SensorGnome, part of Motus Wildlife Tracking System" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Updating software | SensorGnome User Guide" />
  
  <meta name="twitter:description" content="A guide to using a SensorGnome, part of Motus Wildlife Tracking System" />
  

<meta name="author" content="The Motus People" />


<meta name="date" content="2020-10-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="downloading-detection-data.html"/>
<link rel="next" href="modifying-configuration-files.html"/>
<script src="libs/header-attrs-2.4.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction and Overview</a></li>
<li class="chapter" data-level="2" data-path="connect.html"><a href="connect.html"><i class="fa fa-check"></i><b>2</b> Connecting to your SensorGnome</a>
<ul>
<li class="chapter" data-level="2.1" data-path="connect.html"><a href="connect.html#raspberry-pi-sensorgnome"><i class="fa fa-check"></i><b>2.1</b> Raspberry Pi SensorGnome</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="connect.html"><a href="connect.html#option-1-wifi-hotspot"><i class="fa fa-check"></i><b>2.1.1</b> Option 1: WiFi Hotspot</a></li>
<li class="chapter" data-level="2.1.2" data-path="connect.html"><a href="connect.html#ethernet"><i class="fa fa-check"></i><b>2.1.2</b> Option 2: Ethernet Cable</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="connect.html"><a href="connect.html#beaglebone-sensorgnome"><i class="fa fa-check"></i><b>2.2</b> BeagleBone SensorGnome</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="connect.html"><a href="connect.html#firststeps"><i class="fa fa-check"></i><b>2.2.1</b> First steps</a></li>
<li class="chapter" data-level="2.2.2" data-path="connect.html"><a href="connect.html#connecting-via-usb-cable"><i class="fa fa-check"></i><b>2.2.2</b> Connecting via USB cable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-web-interface.html"><a href="the-web-interface.html"><i class="fa fa-check"></i><b>3</b> The Web Interface</a></li>
<li class="chapter" data-level="4" data-path="transferring-data-and-files.html"><a href="transferring-data-and-files.html"><i class="fa fa-check"></i><b>4</b> Transferring Data and Files</a>
<ul>
<li class="chapter" data-level="4.1" data-path="transferring-data-and-files.html"><a href="transferring-data-and-files.html#option-1-ftp-connection"><i class="fa fa-check"></i><b>4.1</b> Option 1: FTP Connection</a></li>
<li class="chapter" data-level="4.2" data-path="transferring-data-and-files.html"><a href="transferring-data-and-files.html#option-2-removing-the-microsd-card"><i class="fa fa-check"></i><b>4.2</b> Option 2: Removing the MicroSD Card</a></li>
<li class="chapter" data-level="4.3" data-path="transferring-data-and-files.html"><a href="transferring-data-and-files.html#shareddrive"><i class="fa fa-check"></i><b>4.3</b> Option 3: Shared network drive</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="downloading-detection-data.html"><a href="downloading-detection-data.html"><i class="fa fa-check"></i><b>5</b> Downloading detection data</a></li>
<li class="chapter" data-level="6" data-path="anchor.html"><a href="anchor.html"><i class="fa fa-check"></i><b>6</b> Updating software</a>
<ul>
<li class="chapter" data-level="6.1" data-path="anchor.html"><a href="anchor.html#raspberry-pi-sensorgnome-1"><i class="fa fa-check"></i><b>6.1</b> Raspberry Pi SensorGnome</a></li>
<li class="chapter" data-level="6.2" data-path="anchor.html"><a href="anchor.html#beaglebone-sensorgnome-1"><i class="fa fa-check"></i><b>6.2</b> BeagleBone SensorGnome</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="anchor.html"><a href="anchor.html#create-an-image-disk-with-the-latest-software"><i class="fa fa-check"></i><b>6.2.1</b> Create an image disk with the latest software</a></li>
<li class="chapter" data-level="6.2.2" data-path="anchor.html"><a href="anchor.html#updating-or-reimaging-the-software"><i class="fa fa-check"></i><b>6.2.2</b> Updating or Reimaging the software</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="anchor.html"><a href="anchor.html#applying-a-software-patch-ctt-compatibility"><i class="fa fa-check"></i><b>6.3</b> Applying a software patch (CTT compatibility)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="modifying-configuration-files.html"><a href="modifying-configuration-files.html"><i class="fa fa-check"></i><b>7</b> Modifying configuration files</a>
<ul>
<li class="chapter" data-level="7.1" data-path="modifying-configuration-files.html"><a href="modifying-configuration-files.html#deployment.txt"><i class="fa fa-check"></i><b>7.1</b> Deployment.txt</a></li>
<li class="chapter" data-level="7.2" data-path="modifying-configuration-files.html"><a href="modifying-configuration-files.html#configuring-internet-access"><i class="fa fa-check"></i><b>7.2</b> Configuring internet access</a></li>
<li class="chapter" data-level="7.3" data-path="modifying-configuration-files.html"><a href="modifying-configuration-files.html#downloading-tag-database-to-a-sensorgnome"><i class="fa fa-check"></i><b>7.3</b> Downloading tag database to a SensorGnome</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SensorGnome User Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="anchor" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Updating software</h1>
<div id="raspberry-pi-sensorgnome-1" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Raspberry Pi SensorGnome</h2>
<p>The Raspberry Pi does not have internal memory and instead the software is run directly from the MicroSD card.
In order to update the software you need only copy the software files onto a formatted Micro SD card.</p>
<ul>
<li>Download the most recent software for a RPi SG. Currently that is the software dated 2018-10-12. A direct link is <a href="https://public.sensorgnome.org/Raspberry_Pi_Sensorgnome/SGPI-2018-10-12_LIWIXI.ZIP">here</a></li>
<li>Unzip the archive and copy the entire contents into the <em>root</em> folder of a blank MicroSD card.</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-7"></span>
<img src="images/rpifolder.png" alt="This is what the contents of the MicroSD card should look like after copying over the firmware" width="578" />
<p class="caption">
Figure 6.1: This is what the contents of the MicroSD card should look like after copying over the firmware
</p>
</div>
<p>That’s it.
The MicroSD card can now be used to power a RPi SG.</p>
</div>
<div id="beaglebone-sensorgnome-1" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> BeagleBone SensorGnome</h2>
<div id="create-an-image-disk-with-the-latest-software" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Create an image disk with the latest software</h3>
<p>In order to update the software running on a BeagleBone SensorGnome you must first create an image disk containing the latest software version.</p>
<ol style="list-style-type: decimal">
<li><p>Download the latest SensorGnome software.
There are two versions of this: the full software image and the rescue image.
They do different things, but it useful to have both.
The most recent version of both is 2017-03-06.</p>
<ol style="list-style-type: lower-roman">
<li><p>The <a href="https://public.sensorgnome.org/Beaglebone_Sensorgnome_Images/sensorgnome_image_2017-03-06_15-33-00.img.7z"><strong>full software</strong></a> is the primary software that runs on the BeagleBone and powers the SensorGnome.
When you insert a MicroSD card with the full software image on it, it will be written to the internal memory of the BeagleBone.
This is the way to update the software if you are running an earlier version than 2017-03-06, and is one of the first steps in trying to restore a BeagleBone SensorGnome that is having issues.</p></li>
<li><p>The <a href="https://public.sensorgnome.org/Beaglebone_Sensorgnome_Images/sensorgnome_rescue_image_2017-03-06_15-33-00.img.7z"><strong>resuce image</strong></a> is nearly identical to the full software image, except that it does not attempt to write the software to the internal memory of the BeagleBone.
Instead, the software runs directly from the MicroSD card itself.
This is most helpful for BeagleBones that won’t boot properly as it can allow access to locally stored files.
You can also run a BB SG off the sd card if you are unable to flash the software to the internal memory.
<em>Note: If you wish to view other software versions you can view them <a href="https://public.sensorgnome.org/Beaglebone_Sensorgnome_Images/">here</a>.</em></p></li>
</ol></li>
<li><p>Unzip the downloaded file using <a href="https://www.7-zip.org/">7-Zip</a>.
After uncompressing you will have an “image” file with the extension “.img.”</p></li>
<li><p>Insert a MicroSD card into your computer, either in the appropriate slot (if your computer has one) or more likely using a USB adapter.</p></li>
<li><p>Download and install <a href="https://www.balena.io/etcher/">BalenaEtcher</a>, which is free and open-sourced to write—or “flash”—the software image onto your MicroSD card.</p></li>
<li><p>Load the software image file into BalenaEtcher interface and click “Flash.”
<strong>Note: this will erase anything on the MicroSD card.</strong></p></li>
<li><p>When the process is complete, <a href="https://support.microsoft.com/en-us/help/4051300/windows-10-safely-remove-hardware">eject the MicroSD</a> and remove it from your computer.
<strong>Note: Your computer may alert you that the card is corrupt and needs to be formatted. That is expected.</strong></p></li>
</ol>
<p>It’s a good idea always to have on hand a MicroSD with the most recent software and/or to have all the relevant software on your computer during field visits.
Both the full software and the rescue image are useful during site checks.</p>
</div>
<div id="updating-or-reimaging-the-software" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Updating or Reimaging the software</h3>
<p>Once you have a MicroSD with the latest software image, you can use it update the software on an SG, or to “reimage” the existing software even if it’s the same version already.
Reimaging can help restore functionality to a BB SG that you cannot connect to, or that otherwise has not been working properly.</p>
<ol style="list-style-type: decimal">
<li><p>Fully power down the SG, then remove any existing MicroSD card (if applicable)</p></li>
<li><p>Insert the image card into the BeagleBone SG and power on</p></li>
<li><p>Watch carefully for the next several seconds as the pattern of LED flashing will help indicate if the process is working properly.</p>
<ol style="list-style-type: lower-roman">
<li><p>Shortly after powering on the BB, the blue LED lights should start randomly flashing for a few seconds</p></li>
<li><p>After a few seconds, all four LED lights will flash ON/OFF in unison for another few seconds.
This indicates the update/reiminaging process in beginning.</p></li>
<li><p>Following this, the LED lights should begin flashing in a “crawling” or “wave” pattern, one after the other in a line.
This should continue for several minutes at least.
If it only lasts a minute or so, there is a good chance the process failed.</p></li>
<li><p>When the process is complete, all four LED lights will remain ON.</p></li>
</ol>
<p>You can watch a video of this process here (Video coming soon)</p></li>
<li><p>You can now power down the BB, remove the image card, power back up, then try to connect and view the Web Interface to confirm everything worked.</p></li>
</ol>
</div>
</div>
<div id="applying-a-software-patch-ctt-compatibility" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Applying a software patch (CTT compatibility)</h2>
<p>In order to make a SensorGnome capable of detecting CTT tags you must apply a software patch.</p>
<p>Download the appropriate software file.
The most recent software</p>
<p>If navigating to the uboot folder via the Windows shared drive, ensure that you navigate to \\192.168.7.2\root\boot\uboot and <strong>not</strong> \\192.168.7.2\boot\uboot.</p>
<p>Note: if you wish to update the entire software version, do not use this method.
Rather, follow the instrutions for completing a full software update given <a href="anchor.html#anchor">above.</a></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="downloading-detection-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modifying-configuration-files.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["SensorGnomeUserGuide.pdf", "SensorGnomeUserGuide.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
